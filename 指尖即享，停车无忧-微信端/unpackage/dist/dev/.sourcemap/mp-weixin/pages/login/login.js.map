{"version":3,"sources":["uni-app:///main.js","webpack:///D:/HbuildX/demo/hello-uniapp/pages/login/login.vue?02e3","webpack:///D:/HbuildX/demo/hello-uniapp/pages/login/login.vue?0406","webpack:///D:/HbuildX/demo/hello-uniapp/pages/login/login.vue?59c4","webpack:///D:/HbuildX/demo/hello-uniapp/pages/login/login.vue?33b0","uni-app:///pages/login/login.vue","webpack:///D:/HbuildX/demo/hello-uniapp/pages/login/login.vue?bb08","webpack:///D:/HbuildX/demo/hello-uniapp/pages/login/login.vue?ed35"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","userInfo","username","password","email","loginOK","isLogin","onLoad","uni","methods","switchLogin","login","userEmail","title","icon","re","result","requestData","url","method","header","success","console","fail","handelLogin","handelRegister"],"mappings":"4IAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,2IACIC,EADJ,QAUIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,wBACZ,aAAAF,E,0CCxBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,yHAAknB,eAAG,G,uJCwCrnB,GACA,SAEA,CACAC,gBACA,OACAC,UACAC,YACAC,YACAC,UAEAC,UACAC,aAIAC,kBAAA,oJACAC,6BAAA,kDACAA,6BAAA,kDACAA,4BAAA,wBACA,eAEA,UACA,2CAPA,IASAC,SACAC,uBACA,4BAEAC,kBAAA,4IAGA,GAFAT,oBACAU,iBACAT,oBAEA,yCAKA,OAHAK,aACAK,eACAC,eACA,6BAIA,yCAKA,OAHAN,aACAK,eACAC,eACA,0BAKA,GADAC,+BACAC,8BACAA,GAAA,gBAIA,OAHAR,aACAK,gBACAC,eACA,mBACA,WAEA,4DAhCA,IAkCAG,wBAAA,WACAT,WACAU,MACAlB,mBACAmB,cACAC,QACA,oDAEAC,oBACA,aACAC,oBACAd,6BAAA,mFACAA,aACAM,eACAD,aAEAL,cACAU,+BAGAI,oBACAd,aACAM,aACAD,qBAIAU,iBACAD,mBAIAE,uBACA,+CACA,eAEAC,0BACA,gDACA,kBAGA,c,6DChJA,yHAAq4B,eAAG,G,uDCAx4B,yHAAqrC,eAAG,G","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./login.vue?vue&type=style&index=1&id=b237504c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b237504c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=b237504c&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\n\t  <view class=\"container\">\n\t\t  <view class=\"login-icon\">\n\t\t\t  <image class=\"login-img\" src=\"./../../static/login/2.png\"></image>\n\t\t  </view>\n\t\t  <view class=\"login-from\">\n\t\t\t  <!--  账号 -->\n\t\t\t  <view class=\"inputView\">\r\n\t\t\t\t  <image class=\"nameImage\" src=\"./../../static/login/logo.png\"></image>\n\t\t\t\t  <input class=\"inputText\" v-model=\"userInfo.username\" placeholder=\"请输入账号\"/>\n\t\t\t\t  \n\t\t\t  </view>\n\t\t\t  <!-- 密码 -->\n\t\t\t  <view class=\"inputView\">\n\t\t\t  \t  <image class=\"nameImage\" src=\"./../../static/login/1.png\"></image>\n\t\t\t  \t   <input class=\"inputText\" v-model=\"userInfo.password\" password=\"true\"  placeholder=\"请输入密码\"/>\n\t\t\t  </view>\r\n\t\t\t  \r\n\t\t\t  <view class=\"inputView\">\r\n\t\t\t  \t  <image class=\"nameImage\" src=\"./../../static/login/1.png\"></image>\r\n\t\t\t  \t <input class=\"inputText\" v-model=\"userInfo.email\"  placeholder=\"请输入邮箱\"/>\r\n\t\t\t  </view>\n\t\t\t  <!-- 登录按钮 -->\r\n\t\t\t  <view v-if=\"isLogin\">\r\n\t\t\t\t  <view class=\"loginBtnView\" @click=\"handelLogin\">\r\n\t\t\t\t  \t立即登录\r\n\t\t\t\t  </view> \r\n\t\t\t\t  <text style=\"display: block;text-align: right;color: blue;\" @click=\"switchLogin\">立即注册</text>\r\n\t\t\t  </view>\n\t\t\t  <view v-else>\r\n\t\t\t\t  <view class=\"loginBtnView\" @click=\"handelRegister\">\r\n\t\t\t\t\t立即注册\r\n\t\t\t\t  </view> \r\n\t\t\t\t  <text style=\"display: block;text-align: right;color: blue;\" @click=\"switchLogin\">立即登录</text>\r\n\t\t\t  </view>\n\t\t  </view>\n\t  </view>\n</template>\n \n<script>\n\t// import md5Libs from \"uview-ui/libs/function/md5\"\r\n\timport axios from \"axios\";\n\n\texport default {\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tuserInfo:{\n\t\t\t\t\tusername:\"\",\n\t\t\t\t\tpassword:\"\",\r\n\t\t\t\t\temail:\"\",\n\t\t\t\t},\t\n\t\t\t\tloginOK:0, //用户第一次登录是0，登录过后变成1，第二次以后自动登录\r\n\t\t\t\tisLogin:true,\n\t\t\t}\n\t\t},\n\t\t// 自动登录的制作\n\t\tasync onLoad(){\n\t\t\tthis.userInfo.username = await uni.getStorageSync(\"username\")\n\t\t\tthis.userInfo.password = await uni.getStorageSync(\"password\")\n\t\t\tthis.loginOK = await uni.getStorageSync(\"loginOK\")\n\t\t\tif(this.loginOK === 6)\n\t\t\t{\n\t\t\t\tthis.login()\n\t\t\t}\n\t\t},\n\t\tmethods:{\r\n\t\t\tswitchLogin(){\r\n\t\t\t\tthis.isLogin = !this.isLogin;\r\n\t\t\t},\n\t\t\tasync login(url){\r\n\t\t\t\tconst username = this.userInfo.username;\r\n\t\t\t\tconst userEmail = this.userInfo.email;\r\n\t\t\t\tconst password = this.userInfo.password;\r\n\r\n\t\t\t\tif(this.userInfo.username === '')\n\t\t\t\t{\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"账号不能为控\",\r\n\t\t\t\t\t\ticon:'error'\r\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(this.userInfo.password === '')\r\n\t\t\t\t{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"密码不能为空\",\r\n\t\t\t\t\t\ticon:'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar re = /^1[3,4,5,6,7,8,9][0-9]{9}$/;\r\n\t\t\t\tvar result = re.test(this.userInfo.username); \r\n\t\t\t\t\tif(!result) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"手机号格式错误\",\r\n\t\t\t\t\t\t\ticon:\"error\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn false; //若手机号码格式不正确则返回false\r\n\t\t\t\t}\r\n\t\t\t\tthis.requestData(url);\n\t\t\t},\r\n\t\t\trequestData(requestUrl){\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:requestUrl,\r\n\t\t\t\t\tdata:this.userInfo,\r\n\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\"content-type\": \"application/x-www-form-urlencoded\"\r\n\t\t\t\t    },\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif(res.data.code){\r\n\t\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\t\tuni.setStorageSync('userInfo', {\"username\":this.userInfo.username,\"password\":this.userInfo.password,\"email\":this.userInfo.email})\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon:\"success\",\r\n\t\t\t\t\t\t\t\ttitle:\"成功\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl:\"/pages/shezhi/shezhi\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t }else{\r\n\t\t\t\t\t\t\t console.log(res.data)\r\n\t\t\t\t\t\t\t uni.showToast({\r\n\t\t\t\t\t\t\t \ticon:\"error\",\r\n\t\t\t\t\t\t\t\ttitle:res.data.msg\r\n\t\t\t\t\t\t\t })\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandelLogin(){\r\n\t\t\t\tconst url = \"http://127.0.0.1:8081/user/getUserInfo\";\r\n\t\t\t\tthis.login(url)\r\n\t\t\t},\r\n\t\t\thandelRegister(){\r\n\t\t\t\tconst url = \"http://127.0.0.1:8081/user/registerUser\";\r\n\t\t\t\tthis.login(url)\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n \n<style>\n/* #ifndef H5 */\npage {\n\theight: 100%;\n\tbackground-color: #eeeeee;\n}\n/* #endif */\n</style>\n \n<style lang=\"scss\" scoped>\n\tpage{ \n\t height: 100%; \n\t} \n\t  \n\t.container { \n\t height: 100%; \n\t display: flex; \n\t flex-direction: column; \n\t padding: 0; \n\t box-sizing: border-box; \n\t background-color: #f2f6fc;\n\t   /*登录图片*/\n\t   .login-icon{ \n\t     flex: none; \n\t   } \n\t   .login-img{ \n\t    width: 750rpx; \n\t   } \n\t   \n\t   /*表单内容*/\n\t   .login-from view:nth-child(2){\n\t   \t\t\t  margin-top: 42rpx;\n\t   }\n\t   .login-from { \n\t    margin-top: -185rpx; \n\t\tmargin-left: 37rpx;\n\t    position: relative;\n\t    height:495rpx;\n\t\twidth: 676rpx;\n\t\tbackground: #ffffff;\n\t\tborder-radius: 6rpx;\n\t\t.inputView {\n\t\t   background-color: #FFFFFF; \n\t\t   margin-top: 72rpx;\n\t\t   margin-left: 32rpx;\n\t\t   display: flex;\n\t\t   border-radius: 6rpx;\n\t\t   height: 76rpx;\n\t\t   border: 2rpx solid #EEEEEE ;\n\t\t   width: 616rpx;\n\t\t        /*输入框*/\n\t\t\t   .nameImage{ \n\t\t\t\tmargin-left: 22rpx; \n\t\t\t\tmargin-top: 22rpx;\n\t\t\t\twidth: 24rpx; \n\t\t\t\theight: 24rpx\n\t\t\t   }  \n\t\t\t   .inputText {\n\t\t\t\tmargin-left: 25rpx; \n\t\t\t\tmargin-top: 14rpx;\n\t\t\t\tcolor: #727272; \n\t\t\t\tfont-size: 30rpx\n\t\t\t   }  \n\t\t  } \n\t\t  .loginBtnView{\n\t\t\t  margin-top: 42rpx;\n\t\t\t  margin-left:24rpx;\n\t\t\t  background: #5f8bd2;\n\t\t\t  padding-top: 20rpx;\n\t\t\t  text-align: center;\n\t\t\t  font-size: 32rpx;\n\t\t\t  letter-spacing:4rpx;\n\t\t\t  color: #f5ffed;\n\t\t\t  height: 78rpx;\n\t\t\t  width: 639rpx;\n\t\t\t  border-radius: 32rpx;\n\t\t\t  \n\t\t  }\n\t\t  \n\t\t     \n\t   } \n\t} \n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=1&id=b237504c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=1&id=b237504c&lang=scss&scoped=true&\""],"sourceRoot":""}