(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{127:function(e,n,t){"use strict";(function(e,n){var r=t(4);t(26);r(t(25));var o=r(t(128));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t(1)["default"],t(2)["createPage"])},128:function(e,n,t){"use strict";t.r(n);var r=t(129),o=t(131);for(var s in o)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(s);t(133),t(135);var u,a=t(32),i=Object(a["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,"b237504c",null,!1,r["components"],u);i.options.__file="pages/login/login.vue",n["default"]=i.exports},129:function(e,n,t){"use strict";t.r(n);var r=t(130);t.d(n,"render",(function(){return r["render"]})),t.d(n,"staticRenderFns",(function(){return r["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return r["recyclableRender"]})),t.d(n,"components",(function(){return r["components"]}))},130:function(e,n,t){"use strict";var r;t.r(n),t.d(n,"render",(function(){return o})),t.d(n,"staticRenderFns",(function(){return u})),t.d(n,"recyclableRender",(function(){return s})),t.d(n,"components",(function(){return r}));var o=function(){var e=this,n=e.$createElement;e._self._c},s=!1,u=[];o._withStripped=!0},131:function(e,n,t){"use strict";t.r(n);var r=t(132),o=t.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(s);n["default"]=o.a},132:function(e,n,t){"use strict";(function(e){var r=t(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(t(115)),s=r(t(117)),u=(r(t(34)),{data:function(){return{userInfo:{username:"",password:"",email:""},loginOK:0,isLogin:!0}},onLoad:function(){var n=this;return(0,s.default)(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getStorageSync("username");case 2:return n.userInfo.username=t.sent,t.next=5,e.getStorageSync("password");case 5:return n.userInfo.password=t.sent,t.next=8,e.getStorageSync("loginOK");case 8:n.loginOK=t.sent,6===n.loginOK&&n.login();case 10:case"end":return t.stop()}}),t)})))()},methods:{switchLogin:function(){this.isLogin=!this.isLogin},login:function(n){var t=this;return(0,s.default)(o.default.mark((function r(){var s,u;return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.userInfo.username,t.userInfo.email,t.userInfo.password,""!==t.userInfo.username){r.next=6;break}return e.showToast({title:"账号不能为控",icon:"error"}),r.abrupt("return");case 6:if(""!==t.userInfo.password){r.next=9;break}return e.showToast({title:"密码不能为空",icon:"error"}),r.abrupt("return");case 9:if(s=/^1[3,4,5,6,7,8,9][0-9]{9}$/,u=s.test(t.userInfo.username),u){r.next=14;break}return e.showToast({title:"手机号格式错误",icon:"error"}),r.abrupt("return",!1);case 14:t.requestData(n);case 15:case"end":return r.stop()}}),r)})))()},requestData:function(n){var t=this;e.request({url:n,data:this.userInfo,method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(n){n.data.code?(console.log(n.data),e.setStorageSync("userInfo",{username:t.userInfo.username,password:t.userInfo.password,email:t.userInfo.email}),e.showToast({icon:"success",title:"成功"}),e.redirectTo({url:"/pages/shezhi/shezhi"})):(console.log(n.data),e.showToast({icon:"error",title:n.data.msg}))},fail:function(e){console.log(e)}})},handelLogin:function(){var e="http://127.0.0.1:8081/user/getUserInfo";this.login(e)},handelRegister:function(){var e="http://127.0.0.1:8081/user/registerUser";this.login(e)}}});n.default=u}).call(this,t(2)["default"])},133:function(e,n,t){"use strict";t.r(n);var r=t(134),o=t.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(s);n["default"]=o.a},134:function(e,n,t){},135:function(e,n,t){"use strict";t.r(n);var r=t(136),o=t.n(r);for(var s in r)["default"].indexOf(s)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(s);n["default"]=o.a},136:function(e,n,t){}},[[127,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/login/login.js.map