(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shezhi/shezhi"],{109:function(e,t,n){"use strict";(function(e,t){var r=n(4);n(26);r(n(25));var a=r(n(110));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n(1)["default"],n(2)["createPage"])},110:function(e,t,n){"use strict";n.r(t);var r=n(111),a=n(113);for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n(125);var i,o=n(32),s=Object(o["default"])(a["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],i);s.options.__file="pages/shezhi/shezhi.vue",t["default"]=s.exports},111:function(e,t,n){"use strict";n.r(t);var r=n(112);n.d(t,"render",(function(){return r["render"]})),n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(t,"components",(function(){return r["components"]}))},112:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return u})),n.d(t,"components",(function(){return r}));try{r={uniCard:function(){return n.e("uni_modules/uni-card/components/uni-card/uni-card").then(n.bind(null,175))},uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,161))}}}catch(o){if(-1===o.message.indexOf("Cannot find module")||-1===o.message.indexOf(".vue"))throw o;console.error(o.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var e=this,t=e.$createElement;e._self._c},u=!1,i=[];a._withStripped=!0},113:function(e,t,n){"use strict";n.r(t);var r=n(114),a=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=a.a},114:function(e,t,n){"use strict";(function(e){var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(115)),u=r(n(117)),i=(r(n(118)),{data:function(){return{date:[{id:0,name:"车位一",startNowTimer:"",startTimer:[0,0],endTimer:[0,0],status:!1},{id:1,name:"车位二",startNowTimer:"",startTimer:[0,0],endTimer:[0,0],status:!1},{id:2,name:"车位三",startNowTimer:"",startTimer:[0,0],endTimer:[0,0],status:!1},{id:3,name:"车位四",startNowTimer:"",startTimer:[0,0],endTimer:[0,0],status:!1}],userInfo:{},userCarPlste:"",updateUserCarPlste:"",userInfoData:{},getUserInfo:"http://localhost:8081/user/getCarPlate",updateUserInfo:"http://localhost:8081/user/updateCarPlate"}},methods:{sendAxios:function(t,n,r){return new Promise((function(a,u){e.request({url:t,data:r,method:n,header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){a(e.data)},fail:function(e){u(e.data)}})}))},initStorge:function(){var t=this;this.date.map((function(n,r){e.setStorage({key:n.id+"",data:t.date[r],success:function(e){console.log("初始化设备id:"+n.id)}})}));e.showToast({title:"初始化成功"})},exitLogin:function(){return(0,u.default)(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.removeStorageSync("userInfo");case 2:e.redirectTo({url:"/pages/shezhi/shezhi"});case 3:case"end":return t.stop()}}),t)})))()},initUser:function(){var t=this;return(0,u.default)(a.default.mark((function n(){var r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t,e.getStorage({key:"userInfo",success:function(e){r.userInfoData=e.data,r.getCarPlste(r.userInfoData.username)},fail:function(){e.redirectTo({url:"/pages/login/login"})}});case 2:case"end":return n.stop()}}),n)})))()},getCarPlste:function(e){var t=this;return(0,u.default)(a.default.mark((function n(){var r,u,i;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={},u=t,i="",i="".concat(u.getUserInfo,"?phone=").concat(e),n.next=6,u.sendAxios(i,"GET","");case 6:if(r=n.sent,r.code){n.next=10;break}return u.userCarPlste="未选择车牌",n.abrupt("return");case 10:u.userCarPlste=r.data;case 11:case"end":return n.stop()}}),n)})))()},updateCarPlste:function(){this.updateUserCarPlste=this.userCarPlste,this.$refs.carPlste.open()},close:function(){this.$refs.carPlste.close()},confirm:function(){var e=this;return(0,u.default)(a.default.mark((function t(){var n,r;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},r="",r="".concat(e.updateUserInfo,"?phone=").concat(e.userInfoData.username,"&carPlate=").concat(e.updateUserCarPlste),t.next=5,e.sendAxios(r,"GET","");case 5:n=t.sent,console.log(n),e.$refs.carPlste.close();case 8:case"end":return t.stop()}}),t)})))()},checkNumberPlate:function(t){var n=new Array("京","沪","津","渝","冀","晋","蒙","辽","吉","黑","苏","浙","皖","闽","赣","鲁","豫","鄂","湘","粤","桂","琼","川","贵","云","藏","陕","甘","青","宁","新");if(""!=t&&null!=t){for(var r=t.substring(0,1),a=!1,u=0;u<n.length;u++)r==n[u].toString()&&(a=!0);var i=/^[\u4e00-\u9fa5][a-zA-Z]-[0-9A-Za-z]{3}\d{2}$/,o=/^[\u4e00-\u9fa5][a-zA-Z]-\d{4}[a-zA-Z]$/;i.test(t)||o.test(t)?a||e.showToast({title:"您输入的车牌号码有误，首字符无效！",icon:"error"}):e.showToast({title:"您输入的车牌号码有误",icon:"error"})}else e.showToast({title:"请输入车牌号",icon:"error"})},checParking:function(){var t=this;"未选择车牌"!=this.userCarPlste?e.navigateTo({url:"../userpay/userpay?carPlate=".concat(t.userCarPlste)}):e.navigateTo({url:"../userpay/userpay?carPlate=0"})}},onLoad:function(){this.initUser()},onPullDownRefresh:function(){e.redirectTo({url:"/pages/shezhi/shezhi"})}});t.default=i}).call(this,n(2)["default"])},118:function(e,t,n){"use strict";n.r(t);var r=n(119),a=n(121);for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);n(123);var i,o=n(32),s=Object(o["default"])(a["default"],r["render"],r["staticRenderFns"],!1,null,null,null,!1,r["components"],i);s.options.__file="component/uni-card/uni-card.vue",t["default"]=s.exports},119:function(e,t,n){"use strict";n.r(t);var r=n(120);n.d(t,"render",(function(){return r["render"]})),n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(t,"components",(function(){return r["components"]}))},120:function(e,t,n){"use strict";var r;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return u})),n.d(t,"components",(function(){return r}));var a=function(){var e=this,t=e.$createElement;e._self._c},u=!1,i=[];a._withStripped=!0},121:function(e,t,n){"use strict";n.r(t);var r=n(122),a=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=a.a},122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"UniCard",emits:["click"],props:{title:{type:String,default:""},subTitle:{type:String,default:""},padding:{type:String,default:"10px"},margin:{type:String,default:"15px"},spacing:{type:String,default:"0 10px"},extra:{type:String,default:""},cover:{type:String,default:""},thumbnail:{type:String,default:""},isFull:{type:Boolean,default:!1},isShadow:{type:Boolean,default:!0},shadow:{type:String,default:"0px 0px 3px 1px rgba(0, 0, 0, 0.08)"},border:{type:Boolean,default:!0}},methods:{onClick:function(e){this.$emit("click",e)}}};t.default=r},123:function(e,t,n){"use strict";n.r(t);var r=n(124),a=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=a.a},124:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var r=n(126),a=n.n(r);for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=a.a},126:function(e,t,n){}},[[109,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/shezhi/shezhi.js.map